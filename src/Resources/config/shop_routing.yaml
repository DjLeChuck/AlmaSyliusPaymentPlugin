sylius_shop_checkout_select_payment:
    path: /checkout/select-payment
    methods: [GET, PUT]
    defaults:
        _controller: sylius.controller.order::updateAction
        _sylius:
            event: payment
            flash: false
            template: "@SyliusShop/Checkout/selectPayment.html.twig"
            form: Alma\SyliusPaymentPlugin\Form\Type\SelectPaymentType
            repository:
                method: findCartForSelectingPayment
                arguments:
                    - "expr:service('sylius.context.cart').getCart().getId()"
            state_machine:
                graph: sylius_order_checkout
                transition: select_payment

alma_sylius_payment_plugin_render_plans:
    path: /alma-render-plans/{orderId}
    methods: [GET]
    defaults:
        _controller: alma_sylius_payment_plugin.controller.installments::renderInstallmentPlanAction
